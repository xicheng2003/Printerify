<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è®¢å•å·²å®Œæˆ - Printerify</title>
    <style>
        /* --- åŸºç¡€é‡ç½® --- */
        body, table, td, a { -webkit-text-size-adjust: 100%; -ms-text-size-adjust: 100%; }
        table, td { mso-table-lspace: 0pt; mso-table-rspace: 0pt; }
        img { -ms-interpolation-mode: bicubic; border: 0; height: auto; line-height: 100%; outline: none; text-decoration: none; display: block; }
        body { height: 100% !important; margin: 0 !important; padding: 0 !important; width: 100% !important; background-color: #f3f4f6; font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Helvetica, Arial, sans-serif; color: #374151; }

        /* --- å®¹å™¨æ ·å¼ --- */
        .wrapper {
            width: 100%;
            table-layout: fixed;
            background-color: #f3f4f6;
            padding-bottom: 40px;
        }
        .container {
            max-width: 600px;
            margin: 0 auto;
            background-color: #ffffff;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.05), 0 4px 6px -2px rgba(0, 0, 0, 0.025);
        }

        /* --- è£…é¥°æ€§é¡¶éƒ¨æ¡ --- */
        .top-accent {
            height: 8px;
            width: 100%;
            background: linear-gradient(90deg, #3b82f6 0%, #2563eb 100%);
        }

        /* --- å¤´éƒ¨ --- */
        .header {
            text-align: center;
            padding: 40px 20px 20px;
        }
        .logo-container {
            display: inline-block;
            margin-bottom: 15px;
        }
        .header h1 {
            color: #1e293b;
            font-size: 24px;
            font-weight: 700;
            margin: 0;
        }

        /* --- å†…å®¹åŒºåŸŸ --- */
        .content {
            padding: 20px 40px 40px;
        }

        /* --- æ¬¢è¿æ–‡æ¡ˆ --- */
        .welcome-text {
            font-size: 16px;
            line-height: 1.6;
            color: #4b5563;
            margin-bottom: 24px;
        }
        .success-badge {
            text-align: center;
            margin-bottom: 30px;
        }
        .success-badge span {
            background-color: #eff6ff;
            color: #2563eb;
            padding: 8px 16px;
            border-radius: 9999px;
            font-size: 14px;
            font-weight: 600;
            display: inline-block;
        }

        /* --- æ ¸å¿ƒå–ä»¶ç å¡ç‰‡ --- */
        .pickup-card {
            background-color: #eff6ff;
            border: 2px dashed #bfdbfe;
            border-radius: 12px;
            padding: 25px;
            text-align: center;
            margin: 0 0 35px 0;
        }
        .pickup-label {
            color: #60a5fa;
            font-size: 13px;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 1px;
            margin-bottom: 8px;
        }
        .pickup-code {
            color: #2563eb;
            font-size: 36px;
            font-weight: 800;
            letter-spacing: 4px;
            line-height: 1;
            font-family: monospace;
        }

        /* --- è®¢å•è¯¦æƒ…è¡¨æ ¼ --- */
        .details-table {
            width: 100%;
            border-collapse: collapse;
            margin-bottom: 30px;
        }
        .details-table th {
            text-align: left;
            padding: 12px 0;
            color: #9ca3af;
            font-size: 13px;
            font-weight: 500;
            width: 100px;
            vertical-align: top;
        }
        .details-table td {
            text-align: right;
            padding: 12px 0;
            color: #1f2937;
            font-size: 15px;
            font-weight: 600;
            border-bottom: 1px solid #f3f4f6;
        }
        .details-table tr:last-child td {
            border-bottom: none;
        }

        /* --- æç¤ºä¿¡æ¯ --- */
        .note-box {
            background-color: #fefce8;
            border-left: 4px solid #facc15;
            padding: 16px 20px;
            border-radius: 4px;
            font-size: 14px;
            line-height: 1.6;
            color: #854d0e;
            margin-top: 10px;
        }
        .note-box a {
            color: #a16207;
            font-weight: bold;
            text-decoration: underline;
        }

        /* --- é¡µè„š --- */
        .footer {
            text-align: center;
            padding: 30px 20px;
            background-color: #f9fafb;
            border-top: 1px solid #f3f4f6;
        }
        .footer p {
            color: #9ca3af;
            font-size: 12px;
            margin: 5px 0;
        }
    </style>
</head>
<body>
    <div class="wrapper">
        <table role="presentation" border="0" cellpadding="0" cellspacing="0" width="100%">
            <tr>
                <td align="center" style="padding-top: 40px;">
                    
                    <div class="container">
                        <!-- é¡¶éƒ¨è£…é¥°æ¡ -->
                        <div class="top-accent"></div>

                        <!-- å¤´éƒ¨ Logo -->
                        <div class="header">
                            <div class="logo-container">
                                <img src="https://print.morlight.top/printerify.png" width="56" height="56" alt="Printerify">
                            </div>
                            <h1>Printerify</h1>
                        </div>

                        <div class="content">
                            <!-- æˆåŠŸçŠ¶æ€ -->
                            <div class="success-badge">
                                <span>ğŸ‰ æ‚¨çš„è®¢å•å·²å®Œæˆ</span>
                            </div>

                            <!-- æ¬¢è¿è¯­ -->
                            <div class="welcome-text">
                                <p style="margin-top: 0;">äº²çˆ±çš„ <strong>{% if order.user %}{{ order.user.get_display_name }}{% else %}ç”¨æˆ·{% endif %}</strong>ï¼š</p>
                                <p>æ‚¨çš„æ‰“å°è®¢å•ç°å·²å®Œæˆï¼Œå¯ä»¥å‡­å–ä»¶ç éšæ—¶é¢†å–ã€‚</p>
                            </div>

                            <!-- å–ä»¶ç å¡ç‰‡ (é‡ç‚¹) -->
                            <div class="pickup-card">
                                <div class="pickup-label">æ‚¨çš„ä¸“å±å–ä»¶ç </div>
                                <div class="pickup-code">{{ order.pickup_code }}</div>
                            </div>

                            <!-- è®¢å•è¯¦æƒ… -->
                            <table class="details-table" role="presentation">
                                <tr>
                                    <th>è®¢å•ç¼–å·</th>
                                    <td style="font-family: monospace;">{{ order.order_number }}</td>
                                </tr>
                                <tr>
                                    <th>å–ä»¶ç </th>
                                    <td>{{ order.pickup_code }}</td>
                                </tr>
                                <tr>
                                    <th>è®¢å•æ€»ä»·</th>
                                    <td style="color: #ef4444;">Â¥{{ order.total_price }}</td>
                                </tr>
                                <tr>
                                    <th>ä¸‹å•æ—¶é—´</th>
                                    <td>{{ order.created_at|date:"Yå¹´mæœˆdæ—¥ H:i" }}</td>
                                </tr>
                            </table>

                            <!-- é‡è¦æç¤º -->
                            <div class="note-box">
                                <strong>å–ä»¶æé†’ï¼š</strong>
                                è¯·å‡­ä¸Šæ–¹å–ä»¶ç  <strong>{{ order.pickup_code }}</strong> é¢†å–æ–‡ä»¶ã€‚
                                æ‚¨å¯éšæ—¶è®¿é—® <a href="https://print.morlight.top/query" target="_blank">è®¢å•è¯¦æƒ…é¡µé¢</a> æŸ¥çœ‹å†å²è®¢å•ã€‚å¦‚æœ‰ç–‘é—®ï¼Œè¯·è”ç³»å®¢æœã€‚
                            </div>

                            <p style="margin-top: 30px; text-align: center; color: #9ca3af; font-size: 14px;">
                                æ„Ÿè°¢æ‚¨çš„ä¿¡ä»»ä¸æ”¯æŒï¼
                            </p>
                        </div>

                        <!-- é¡µè„š -->
                        <div class="footer">
                            <p>&copy; {% now "Y" %} Printerify. All rights reserved.</p>
                            <p>æ­¤é‚®ä»¶ç”±ç³»ç»Ÿè‡ªåŠ¨å‘é€ï¼Œè¯·å‹¿ç›´æ¥å›å¤</p>
                        </div>
                    </div>

                </td>
            </tr>
        </table>
    </div>
</body>
</html>
