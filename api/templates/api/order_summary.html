<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>è®¢å•è¯¦æƒ… - Printerify</title>
    <style>
        @page {
            size: A4;
            margin: 1cm 1.3cm; /* è°ƒæ•´é¡µè¾¹è·ï¼Œä½¿å…¶æ›´ç´§å‡‘ */
        }
        body {
            /* æä¾›äº†æ›´å¥å£®çš„å­—ä½“æ ˆï¼Œä¼˜å…ˆä½¿ç”¨åˆšåˆšå®‰è£…çš„æ–‡æ³‰é©¿å­—ä½“ */
            font-family: 'WenQuanYi Zen Hei', 'WenQuanYi Micro Hei', 'Microsoft YaHei', 'Hiragino Sans GB', 'é»‘ä½“', 'sans-serif';
            font-size: 9.5pt;
            color: #333;
            margin: 0;
        }
        .main-table {
            width: 100%;
            border-collapse: collapse;
        }
        /* --- é¡µçœ‰ --- */
        .logo-title-table {
            width: 100%;
        }
        .logo-title-table td {
            vertical-align: bottom;
        }
        .logo-svg-cell {
            width: 35px; /* è®¾ç½®å›ºå®šå®½åº¦ç»™å›¾æ ‡ */
        }
        .logo-svg-cell svg {
            width: 32px; /* æ§åˆ¶SVGå›¾æ ‡å¤§å° */
            height: 32px;
        }
        .logo-text-cell h1 {
            font-family: 'Helvetica', sans-serif;
            font-size: 24pt;
            font-weight: bold;
            color: #2c2c2c;
            padding-left: 8px; /* å›¾æ ‡å’Œæ–‡å­—çš„é—´è· */
            margin: 0;
        }
        .header-title-cell {
            text-align: right;
        }
        .header-title-cell h2 {
            margin: 0;
            font-size: 18pt;
            color: #2c2c2c;
            font-weight: 300;
        }
        .header-title-cell p {
            margin: 2px 0 0;
            font-size: 8.5pt;
            color: #9B9B9B;
        }
        /* --- é€šç”¨åŒºå—æ ‡é¢˜ --- */
        .section-title {
            font-size: 12pt;
            color: #2c2c2c;
            font-weight: 500;
            border-bottom: 1px solid #EAEAEA;
            padding-bottom: 6px;
            margin-top: 20px;
            margin-bottom: 12px;
        }
        /* --- ä¿¡æ¯åŒºå— --- */
        .info-table {
             width: 100%;
             border-collapse: separate;
             border-spacing: 8px;
        }
        .info-table td {
            width: 50%;
            background-color: #F9F9F9;
            padding: 10px;
            border-radius: 5px;
            border: 1px solid #F0F0F0;
            vertical-align: top;
        }
        .info-item .label {
            font-size: 8.5pt;
            color: #777;
            margin-bottom: 2px;
        }
        .info-item .value {
            font-size: 11pt;
            font-weight: 500;
            color: #333;
        }
        .info-item .pickup-code {
            font-size: 22pt;
            font-weight: bold;
            color: #D0021B;
        }
        /* --- æ–‡ä»¶åˆ—è¡¨ --- */
        .file-list {
            list-style-type: none;
            padding-left: 0;
            margin: 0;
        }
        .file-list li {
            background-color: #F9F9F9;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 6px;
            font-size: 10pt;
            border: 1px solid #F0F0F0;
        }
        /* --- é¡µè„š --- */
        .footer-wrapper {
            position: absolute;
            bottom: 1cm;
            left: 1.3cm;
            right: 1.3cm;
        }
        .footer-table {
            width: 100%;
            border-top: 1.5px solid #F0F0F0;
            padding-top: 10px;
        }
        .footer-table td {
            vertical-align: middle;
        }
        .footer-text p {
            margin: 0 0 4px 0;
            font-size: 8pt;
            color: #888;
        }
        .qrcode-container {
            text-align: right;
        }
        .qrcode-container p {
            font-size: 8pt;
            color: #888;
            margin: 0 0 4px 0;
        }
        .qrcode-container img {
            width: 80px;
            height: 80px;
        }
    </style>
</head>
<body>
    <table class="main-table">
        <thead>
            <tr>
                <td colspan="2" style="border-bottom: 1.5px solid #F0F0F0; padding-bottom: 12px;">
                    <table style="width: 100%;">
                        <tr>
                            <td>
                                <table class="logo-title-table">
                                    <tr>
                                        <td class="logo-svg-cell">
                                            <svg width="32" height="32" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M7 17H5C3.89543 17 3 16.1046 3 15V11C3 9.89543 3.89543 9 5 9H19C20.1046 9 21 9.89543 21 11V15C21 16.1046 20.1046 17 19 17H17" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M17 9V7C17 5.89543 16.1046 5 15 5H9C7.89543 5 7 5.89543 7 7V9" stroke="#2563eb" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <rect x="7" y="13" width="10" height="8" rx="1" stroke="#34495e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                                <path d="M17 13H19V11" stroke="#34495e" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                            </svg>
                                        </td>
                                        <td class="logo-text-cell">
                                            <h1>Printerify</h1>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                            <td class="header-title-cell">
                                <h2>è‡ªåŠ©æ‰“å°è®¢å•</h2>
                                <p>è¯·æ ¸å¯¹æ‚¨çš„è®¢å•ä¿¡æ¯</p>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td colspan="2">
                    <div class="section-title">æ ¸å¿ƒä¿¡æ¯</div>
                    <div class="info-item" style="background-color: #F9F9F9; padding: 10px; border-radius: 5px; border: 1px solid #F0F0F0; margin-bottom: 8px;">
                        <div class="label">å–ä»¶ç </div>
                        <div class="value pickup-code">{{ order.pickup_code }}</div>
                    </div>
                    <table class="info-table">
                        <tr>
                            <td>
                                <div class="info-item">
                                    <div class="label">è®¢å•å·</div>
                                    <div class="value">{{ order.order_number }}</div>
                                </div>
                            </td>
                            <td>
                                <div class="info-item">
                                    <div class="label">ç”¨æˆ·æ‰‹æœº</div>
                                    <div class="value">{{ order.phone_number }}</div>
                                </div>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <div class="section-title">æ‰“å°ä»»åŠ¡</div>
                    <ul class="file-list">
                        {% for file in order.files.all %}{% if file.purpose == 'PRINT' %}<li>ğŸ“„ {{ file.file.name|slice:"18:" }}</li>{% endif %}{% empty %}<li>æœªæ‰¾åˆ°æ‰“å°æ–‡ä»¶</li>{% endfor %}
                    </ul>
                </td>
            </tr>
            <tr>
                <td colspan="2">
                    <div class="section-title">æ‰“å°è§„æ ¼</div>
                    <table class="info-table">
                        {% for key, value in order.specifications.items %}
                            {% if forloop.first or forloop.counter0|divisibleby:2 %}<tr>{% endif %}
                            <td>
                                <div class="info-item">
                                    <div class="label">
                                        {% if key == 'copies' %}æ‰“å°ä»½æ•°
                                        {% elif key == 'paper_size' %}çº¸å¼ å¤§å°
                                        {% elif key == 'color' %}è‰²å½©æ¨¡å¼
                                        {% elif key == 'sided' %}å•/åŒé¢
                                        {% elif key == 'binding_method' %}è£…è®¢æ–¹å¼
                                        {% elif key == 'binding_detail' %}è£…è®¢ä½ç½®
                                        {% else %}{{ key|capfirst }}{% endif %}
                                    </div>
                                    <div class="value">{{ value }}{% if key == 'copies' %} ä»½{% endif %}</div>
                                </div>
                            </td>
                            {% if forloop.counter|divisibleby:2 or forloop.last %}</tr>{% endif %}
                        {% endfor %}
                    </table>
                </td>
            </tr>
        </tbody>
    </table>

    <div class="footer-wrapper">
        <table class="footer-table">
            <tr>
                <td class="footer-text">
                    <p>æ„Ÿè°¢æ‚¨ä½¿ç”¨ Printerifyï¼</p>
                    <p>å¦‚æœ‰ä»»ä½•é—®é¢˜ï¼Œè¯·è”ç³»æˆ‘ä»¬ã€‚</p>
                </td>
                <td class="qrcode-container">
                    <p>æ‰«ç ç»§ç»­ä¸‹å•</p>
                    <img src="images/qrcode.png" alt="QR Code">
                </td>
            </tr>
        </table>
    </div>
</body>
</html>